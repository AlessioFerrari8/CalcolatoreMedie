<div class="container-md">
  <div class="form-floating mb-3 mt-4">
    <textarea class="form-control" id="rawDataInput" placeholder="Paste your data here" style="height: 300px;"
      [(ngModel)]="rawData" name="rawData"></textarea>
    <label for="rawDataInput">Paste your raw data here (copy from register)</label>
  </div>

  <div class="d-flex justify-content-center gap-2 mt-3">
    <button type="button" class="btn btn-success" (click)="generateJSON()">
      Generate JSON
    </button>
    <button type="button" class="btn btn-primary" (click)="viewResults()" [disabled]="subjects.length === 0">
      View Results
    </button>
  </div>

  <!-- JSON Output -->
  <div class="mt-4" *ngIf="jsonOutput">
    <h5>Generated JSON:</h5>
    <pre class="bg-light p-3 rounded">{{ jsonOutput }}</pre>
  </div>

  <!-- Tabella soggetti elaborati -->
  <div class="mt-5" *ngIf="subjects.length > 0">
    <h5>Subjects Found:</h5>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Subject</th>
          <th>Marks</th>
          <th>Count</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let subject of subjects">
          <td>{{ subject.name }}</td>
          <td>{{ subject.marks.join(', ') }}</td>
          <td>{{ subject.marks.length }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>